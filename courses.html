<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Musicoul - Courses</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="courses.css">
    <link rel="shortcut icon" href="Resources/Favicon/1.png" type="image/x-icon">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Raleway:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
    
</head>
<body>
    <nav>
        <div class="nav-brand">
            <img src="Resources/Homepage/Logo.png" class="logo" alt="Musicoul Logo">
            <span class="musicoul-name">Musicoul</span>
        </div>
        <div class="nav-links">
            <a href="index.html" aria-label="Go to Home page" data-page="home">Home</a>
            <a href="courses.html" aria-label="View our Courses" data-page="courses" class="active">Courses</a>
            <a href="myclass.html" aria-label="See upcoming Events" data-page="events">My Class</a>
            <a href="coming-soon.html" aria-label="Learn more About Us" data-page="about">Events</a>
            <a href="coming-soon.html" aria-label="Contact Us" data-page="contact">Contact</a>
            </div>
        <div class="hamburger" aria-label="Toggle navigation menu" role="button" tabindex="0">
            <i class="fas fa-bars"></i>
        </div>
    </nav>
    <div class="side-nav">
        <span class="close-btn">&times;</span>
        <a href="index.html" aria-label="Go to Home page" data-page="home">Home</a>
        <a href="courses.html" aria-label="View our Courses" data-page="courses" class="active">Courses</a>
        <a href="myclass.html" aria-label="See upcoming Events" data-page="events">My Class</a>
        <a href="coming-soon.html" aria-label="Learn more About Us" data-page="about">Events</a>
        <a href="coming-soon.html" aria-label="Contact Us" data-page="contact">Contact</a>
        </div>

    <main>
        <section class="course-section">
            <div class="course-head">
                <h2>Our Courses</h2>
                <p>Explore our Courses and Start your Musical Journey!</p>
            </div>
            <div class="course-filter-container">
                <div class="course-search">
                    <input type="text" id="courseSearch" placeholder="Search Courses...">
                </div>
                <div class="course-filters">
                    <label for="subjectFilter">Subject:</label>
                    <select id="subjectFilter">
                        <option value="">All</option>
                        <option value="Singing">Singing</option>
                        <option value="Piano/Harmonium">Piano/Harmonium</option>
                        <option value="Tabla">Tabla</option>
                    </select>

                    <label for="pricingFilter">Pricing:</label>
                    <select id="pricingFilter">
                        <option value="">All</option>
                        <option value="Free">Free</option>
                        <option value="Paid">Paid</option>
                    </select>

                    <label for="typeFilter">Course Type:</label>
                    <select id="typeFilter">
                        <option value="">All</option>
                        <option value="Live">Live</option>
                        <option value="Recorded">Recorded</option>
                    </select>

                    <label for="examFilter">Exam No:</label>
                    <select id="examFilter">
                        <option value="">All</option>
                        <option value="1">Exam 1</option>
                        <option value="2">Exam 2</option>
                        <option value="3">Exam 3</option>
                        <option value="4">Exam 4</option>
                        <option value="5">Exam 5</option>
                        <option value="6">Exam 6</option>
                        <option value="7">Exam 7</option>
                    </select>

                    <button id="filterButton">Filter</button>
                </div>
            </div>
            <div class="course-grid">
                <div class="course-card" data-pricing="Paid" data-type="Recorded" data-exam="1" data-subject="Singing" data-course-id="singing-exam1">
                    <img src="Resources/Courses/e1.jpeg" alt="Prarambhik [Exam-1]">
                    <div class="course-tags">
                        <span class="tag paid">Paid</span>
                        <span class="tag live">Live</span>
                        <span class="tag exam-1">Exam 1</span>
                        <span class="tag singing">Singing</span>
                    </div>
                    <h3>Prarambhik <br>[Exam-1]</h3>
                    <p>The foundational course for aspiring singers.</p>
                    <div class="course-price">
                        </div>
                    <div class="button-container">
                        <button class="read-more" data-course="1">All Features</button>
                        <a href="prarambhik.html" class="enter-button"><button class="view-button">Enter Class</button></a>

                    </div>
                    <div class="course-details" id="course-details-1">
                        <p class="course-features-title"><strong>Features:</strong></p>
                        <ul>
                            <li>Notes and Recordings</li>
                            <li>Revision Sessions</li>
                            <li>Doubt Sessions</li>
                            <li>Workshops</li>
                            <li>Competitions</li>
                            <li>Performance Events</li>
                            <li>Tests</li>
                        </ul>
                    </div>
                </div>
                <div class="course-card" data-pricing="Paid" data-type="Live" data-exam="4" data-subject="Singing" data-course-id="singing-exam4">
                    <img src="Resources/Courses/e4.jpeg" alt="Madhyama Pratham [Exam-4]">
                    <div class="course-tags">
                        <span class="tag paid">Paid</span>
                        <span class="tag live">Live</span>
                        <span class="tag exam-4">Exam 4</span>
                        <span class="tag singing">Singing</span>
                    </div>
                    <h3>Madhyama Pratham <br>[Exam-4]</h3>
                    <p>Intermediate level live singing course for advanced techniques.</p>
                    <div class="course-price">
                        </div>
                    <div class="button-container">
                        <button class="read-more" data-course="4">All Features</button>
                        <a href="madhyama-pratham.html" class="enter-button"><button class="view-button">Enter Class</button></a>
                    </div>
                    <div class="course-details" id="course-details-4">
                        <p class="course-features-title"><strong>Features:</strong></p>
                        <ul>
                            <li>Notes and Recordings</li>
                            <li>Revision Sessions</li>
                            <li>Doubt Sessions</li>
                            <li>Workshops</li>
                            <li>Competitions</li>
                            <li>Performance Events</li>
                            <li>Tests</li>
                        </ul>
                    </div>
                </div>
                <div class="course-card" data-pricing="Paid" data-type="Live" data-exam="6" data-subject="Singing" data-course-id="singing-exam6">
                    <img src="Resources/Courses/e6.jpeg" alt="Visharad Pratham [Exam-6]">
                    <div class="course-tags">
                        <span class="tag paid">Paid</span>
                        <span class="tag live">Live</span>
                        <span class="tag exam-6">Exam 6</span>
                        <span class="tag singing">Singing</span>
                    </div>
                    <h3>Visharad Pratham <br>[Exam-6]</h3>
                    <p>The advanced live tabla course for rhythmic mastery.</p>
                    <div class="course-price">
                        </div>
                    <div class="button-container">
                        <button class="read-more" data-course="6">All Features</button>
                        <a href="visharad-pratham.html" class="enter-button"><button class="view-button">Enter Class</button></a>
                    </div>
                    <div class="course-details" id="course-details-6">
                        <p class="course-features-title"><strong>Features:</strong></p>
                        <ul>
                            <li>Notes and Recordings</li>
                            <li>Revision Sessions</li>
                            <li>Doubt Sessions</li>
                            <li>Workshops</li>
                            <li>Competitions</li>
                            <li>Performance Events</li>
                            <li>Tests</li>
                        </ul>
                    </div>
                </div>
                <div class="course-card" data-pricing="Free" data-type="Recorded" data-exam="1" data-subject="Piano/Harmonium" data-course-id="piano-exam1">
                    <img src="Resources/Courses/e8.jpg" alt="Piano [Exam-1]">
                    <div class="course-tags">
                        <span class="tag paid">Paid</span>
                        <span class="tag live">Live</span>
                        <span class="tag exam-1">Exam 1</span>
                        <span class="tag piano-harmonium">Piano/Harmonium</span>
                    </div>
                    <h3>Piano <br>[Exam-1]</h3>
                    <p>The foundational recorded course for aspiring pianists/harmonists.</p>
                    <div class="course-price">
                        </div>
                    <div class="button-container">
                        <button class="read-more" data-course="8">All Features</button>
                        <a href="piano-prarambhik.html" class="enter-button"><button class="view-button">Enter Class</button></a>
                    </div>
                    <div class="course-details" id="course-details-8">
                        <p class="course-features-title"><strong>Features:</strong></p>
                        <ul>
                            <li>Notes and Recordings</li>
                            <li>Revision Sessions</li>
                            <li>Doubt Sessions</li>
                            <li>Workshops</li>
                            <li>Competitions</li>
                            <li>Performance Events</li>
                            <li>Tests</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>
    </main>
    <div class="auth-popup">
        <div class="auth-container">
            <span class="close-popup">&times;</span>
            <div class="auth-tabs">
                <button class="login-tab active">Login</button>
                <button class="signup-tab">Sign Up</button>
            </div>
            <div class="auth-forms">
                <form class="login-form active">
                    <h2>Login</h2>
                    <div class="input-group">
                        <label for="loginEmail">Email:</label>
                        <input type="email" id="loginEmail" placeholder="Your Email">
                    </div>
                    <div class="input-group">
                        <label for="loginPassword">Password:</label>
                        <input type="password" id="loginPassword" placeholder="Your Password">
                    </div>
                    <button type="submit" class="auth-button">Login</button>
                    <button type="button" class="google-auth-button google-auth-button">
                        <i class="fab fa-google"></i> Sign in with Google
                    </button>
                </form>
                <form class="signup-form">
                    <h2>Sign Up</h2>
                    <div class="input-group">
                        <label for="signupName">Full Name:</label>
                        <input type="text" id="signupName" placeholder="Your Full Name">
                    </div>
                    <div class="input-group">
                        <label for="signupEmail">Email:</label>
                        <input type="email" id="signupEmail" placeholder="Your Email">
                    </div>
                    <div class="input-group">
                        <label for="signupPassword">Password:</label>
                        <input type="password" id="signupPassword" placeholder="Choose a Password">
                    </div>
                    <div class="input-group">
                        <label for="confirmPassword">Confirm Password:</label>
                        <input type="password" id="confirmPassword" placeholder="Confirm Your Password">
                    </div>
                    <div class="input-group">
                        <label for="userRole">Role:</label>
                        <select id="userRole">
                            <option value="student">Student</option>
                            <option value="instructor">Instructor</option>
                        </select>
                    </div>
                    <button type="submit" class="auth-button">Sign Up</button>
                    <button type="button" class="google-auth-button">
                        <i class="fab fa-google"></i> Sign up with Google
                    </button>
                </form>
            </div>
        </div>
    </div>

    <footer>
        <div class="footer-content">
            <div class="footer-logo">
                <img src="Resources/Favicon/1.png" alt="Musicoul Footer Logo">
                <span>Musicoul</span>
            </div>
            <ul class="footer-links">
                <li><a href="index.html" aria-label="Go to Home page">Home</a></li>
                <li><a href="courses.html" aria-label="View our Courses">Courses</a></li>
                <li><a href="coming-soon.html" aria-label="See upcoming Events">Events</a></li>
                <li><a href="coming-soon.html" aria-label="Learn more About Us">About Us</a></li>
                <li><a href="coming-soon.html" aria-label="Contact Us">Contact</a></li>
            </ul>
            <p>&copy; 2025 Musicoul. All rights reserved.</p>
        </div>
    </footer>
    <script src="script.js" type="module"></script>
    <script src="courses.js" type="module"></script>
    <script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
  import { getAuth } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js";
  import { getFunctions } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-functions.js";

  const firebaseConfig = {
    apiKey: "AIzaSyBaDBLoe2Wi2WgmJfPRXoEP-ZSgkVhMxVI",
    authDomain: "musicoul-15025.firebaseapp.com",
    projectId: "musicoul-15025"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const functions = getFunctions(app);

  const btn = document.getElementById("subscribe-prarambhik");

  btn?.addEventListener("click", async () => {
    console.log("Buy Now clicked");

    const user = auth.currentUser;
    if (!user) {
      alert("Please login first to subscribe.");
      return;
    }

    try {
      const response = await fetch("https://musicoul-15025.cloudfunctions.net/api/create-subscription", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ uid: user.uid })
      });

      const data = await response.json();
      const subscriptionId = data.subscriptionId;

      const options = {
        key: "rzp_live_ogpa2pelBwJPA3",
        subscription_id: subscriptionId,
        name: "Musicoul",
        description: "Monthly Access - Prarambhik",
        image: "Resources/Homepage/Logo.png",
        handler: function (response) {
          alert("Payment successful! Your class will unlock shortly.");
        },
        prefill: {
          name: user.displayName,
          email: user.email
        },
        theme: { color: "#f44336" }
      };

      const rzp = new Razorpay(options);
      rzp.open();
    } catch (err) {
      console.error("Subscription error:", err);
      alert("Subscription failed.");
    }
  });
</script>



</body>
</html>